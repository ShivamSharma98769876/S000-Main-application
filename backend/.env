# Server Configuration
NODE_ENV=development
PORT=3000

# Database Configuration
# DATABASE_URL=postgresql://postgres:Itsme123@localhost:5432/tradingpro
TEST_DATABASE_URL=postgresSQL://postgres:Itsme123@localhost:5432/tradingpro_test

# DATABASE_URL=postgresSQL://postgres:Itsme123@127.0.0.1:5432/tradingpro
DATABASE_URL=postgresSQL://shivams:Itsme123@postgresql-206372-0.cloudclusters.net:10073/tradingpro
DB_PASSWORD=Itsme123
# Session Configuration
SESSION_SECRET=my-super-secret-session-key-12345-abcdef-xyz-789
SESSION_MAX_AGE=86400000

# OAuth Configuration - Google
GOOGLE_CLIENT_ID=9554799570-38c0o6fsgm3peajtlsgrqbb19qld3ds1.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/oauth/google/callback

# OAuth Configuration - Apple
APPLE_CLIENT_ID=com.your-app.service-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY_PATH=./config/AuthKey_XXXXXXXXXX.p8
APPLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/apple/callback

# Frontend URL
FRONTEND_URL=http://127.0.0.1:3000
CORS_ORIGIN=http://127.0.0.1:3000

# Email Configuration
# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=nimblegrowthoptions@gmail.com
SMTP_PASSWORD=wyrwzybkklzdifrs
EMAIL_FROM=nimblegrowthoptions@gmail.com
ADMIN_EMAIL=nimblegrowthoptions@gmail.com

# File Upload Configuration
MAX_FILE_SIZE=5242880
UPLOAD_DIR=./uploads

# Storage Configuration
STORAGE_TYPE=local

# Security Configuration
ENABLE_IP_WHITELIST=false
ADMIN_IP_WHITELIST=127.0.0.1,::1

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# API Documentation
ENABLE_SWAGGER=true

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# System Configuration
QR_CODE_URL=https://example.com/qr-code.png
UPI_ID=merchant@upi
MERCHANT_NAME=StockSage India
COMPANY_NAME=StockSage
SUPPORT_EMAIL=nimblegrowthoptions@gmail.com
PHONE_NUMBER=+91 8904002365

```env
# JWT Configuration
JWT_PRIVATE_KEY_PATH=./config/keys/private.pem
JWT_PUBLIC_KEY_PATH=./config/keys/public.pem
JWT_ISSUER=StockSage-main-app
JWT_AUDIENCE=StockSage-child-app
JWT_EXPIRY=1000m
#COOKIE_DOMAIN=127.0.0.1

# Child App URLs
# For LOCAL development (when running on your machine):
CHILD_APP_URL=http://127.0.0.1:8080
CHILD_APP_ALLOWED_ORIGINS=http://127.0.0.1:8080

# For AZURE deployment (set CHILD_APP_URL as environment variable in Azure App Service):
# CHILD_APP_URL=            https://a001-strangle-ckb5h2a9cqcaamhb.southindia-01.azurewebsites.net
# CHILD_APP_ALLOWED_ORIGINS=https://a001-strangle-ckb5h2a9cqcaamhb.southindia-01.azurewebsites.net

AUTH_TOKEN_EXPIRY=601m


# CHILD_APP_URL=https://a001-strangle-ckb5h2a9cqcaamhb.southindia-01.azurewebsites.net
# CHILD_APP_ALLOWED_ORIGINS=https://a001-strangle-ckb5h2a9cqcaamhb.southindia-01.azurewebsites.net

```
`

## Setup Steps

1. **Install dependencies:**
   ```bash
   cd backend
   npm install
   ```

2. **Generate RSA keys:**
   ```bash
   node scripts/generate-keys.js
   ```

3. **Add environment variables** to your `.env` file (see above)

4. **Share public key** with child app team via secure channel (Azure Key Vault, encrypted email, etc.)

## Important Notes

- ⚠️ **NEVER commit** `private.pem` to the repository
- The public key (`public.pem`) should be shared securely with the child app team
- Keys are stored in `backend/config/keys/` directory
- The `.gitignore` file has been updated to exclude `.pem` files


